<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InboxIQ Drive</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Google Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
        }

        :root {
            --primary-green: #34a853;
            --primary-green-hover: #2d8f47;
            --secondary-green: #0f9d58;
            --light-green: #e8f5e8;
            --background: #ffffff;
            --surface: #f8f9fa;
            --surface-variant: #e8f5e8;
            --border: #dadce0;
            --text-primary: #202124;
            --text-secondary: #5f6368;
            --text-light: #80868b;
            --shadow: 0 1px 2px 0 rgba(60,64,67,.3), 0 1px 3px 1px rgba(60,64,67,.15);
            --shadow-hover: 0 1px 3px 0 rgba(60,64,67,.3), 0 4px 8px 3px rgba(60,64,67,.15);
        }

        body {
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.5;
        }

        /* Header */
        .header {
            display: flex;
            align-items: center;
            padding: 8px 20px;
            border-bottom: 1px solid var(--border);
            background: var(--background);
            position: sticky;
            top: 0;
            z-index: 100;
            min-height: 64px;
        }

        .logo {
            display: flex;
            align-items: center;
            margin-right: 32px;
            flex-shrink: 0;
        }

        .logo i {
            font-size: 24px;
            color: var(--secondary-green);
            margin-right: 8px;
        }

        .logo-text {
            font-size: 22px;
            color: var(--text-secondary);
            font-weight: 400;
            white-space: nowrap;
        }

        .search-container {
            flex: 1;
            max-width: 720px;
            margin: 0 32px;
            display: flex;
            justify-content: flex-start;
        }

        .search-box {
            display: flex;
            align-items: center;
            background: var(--surface);
            border-radius: 8px;
            padding: 0 16px;
            height: 48px;
            transition: all 0.2s;
            width: 100%;
            max-width: 500px;
        }

        .search-box:hover {
            box-shadow: var(--shadow);
        }

        .search-box:focus-within {
            background: var(--background);
            box-shadow: var(--shadow-hover);
        }

        .search-icon {
            color: var(--text-light);
            margin-right: 12px;
            flex-shrink: 0;
        }

        .search-input {
            flex: 1;
            border: none;
            background: transparent;
            font-size: 16px;
            outline: none;
            color: var(--text-primary);
        }

        .search-input::placeholder {
            color: var(--text-light);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0;
            margin-left: auto;
        }

        .header-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-secondary);
            transition: background-color 0.2s;
            flex-shrink: 0;
        }

        .header-btn:hover {
            background-color: rgba(60,64,67,.08);
        }

        .profile-btn {
            width: 32px;
            height: 32px;
            background: var(--primary-green);
            color: white;
            font-weight: 500;
            font-size: 14px;
            flex-shrink: 0;
        }

        /* Main Layout */
        .main-container {
            display: flex;
            min-height: calc(100vh - 64px);
        }

        /* Sidebar */
        .sidebar {
            width: 256px;
            background: var(--background);
            border-right: 1px solid var(--border);
            padding: 16px 12px;
        }

        .sidebar-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 24px;
        }

        .new-btn, .upload-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 24px;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: var(--shadow);
            font-size: 14px;
            color: var(--text-primary);
            text-decoration: none;
        }

        .new-btn:hover, .upload-btn:hover {
            box-shadow: var(--shadow-hover);
            background: var(--surface);
        }

        .new-btn i, .upload-btn i {
            font-size: 20px;
            color: var(--secondary-green);
        }

        .sidebar-menu {
            list-style: none;
        }

        .menu-item {
            margin-bottom: 4px;
        }

        .menu-link {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 8px 12px;
            border-radius: 24px;
            text-decoration: none;
            color: var(--text-secondary);
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .menu-link:hover {
            background-color: rgba(60,64,67,.08);
        }

        .menu-link.active {
            background-color: var(--light-green);
            color: var(--primary-green);
            font-weight: 500;
        }

        .menu-icon {
            width: 20px;
            text-align: center;
        }

        .storage-info {
            margin-top: 32px;
            padding: 16px 12px;
            font-size: 13px;
            color: var(--text-light);
        }

        .storage-bar {
            width: 100%;
            height: 3px;
            background: var(--border);
            border-radius: 2px;
            margin: 8px 0;
            overflow: hidden;
        }

        .storage-used {
            height: 100%;
            background: var(--primary-green);
            width: 0%;
            border-radius: 2px;
        }

        /* Main Content */
        .content {
            flex: 1;
            padding: 24px 32px;
        }

        .welcome-section {
            text-align: center;
            padding: 80px 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        .welcome-icon {
            width: 120px;
            height: 120px;
            background: #f8f9fa;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 32px;
            border: 1px solid var(--border);
        }

        .welcome-icon i {
            font-size: 48px;
            color: var(--secondary-green);
        }

        .welcome-title {
            font-size: 24px;
            font-weight: 400;
            color: var(--text-primary);
            margin-bottom: 16px;
        }

        .welcome-subtitle {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: 32px;
            line-height: 1.6;
        }

        .welcome-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .action-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 24px;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
            cursor: pointer;
            border: none;
        }

        .action-btn-primary {
            background: var(--primary-green);
            color: white;
        }

        .action-btn-primary:hover {
            background: var(--primary-green-hover);
            box-shadow: var(--shadow-hover);
        }

        .action-btn-secondary {
            background: transparent;
            color: var(--primary-green);
            border: 1px solid var(--border);
        }

        .action-btn-secondary:hover {
            background: var(--surface);
        }

        /* Upload Modal */
        .upload-modal {
            background: var(--background);
            border-radius: 8px;
            box-shadow: var(--shadow-hover);
            width: 90%;
            max-width: 600px;
        }

        .upload-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 24px 24px 16px;
            border-bottom: 1px solid var(--border);
        }

        .upload-title {
            font-size: 18px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .upload-body {
            padding: 24px;
        }

        .upload-area {
            border: 2px dashed var(--border);
            border-radius: 8px;
            padding: 48px 24px;
            text-align: center;
            transition: all 0.2s;
            cursor: pointer;
            background: var(--surface);
        }

        .upload-area:hover {
            border-color: var(--primary-green);
            background: var(--light-green);
        }

        .upload-area.dragover {
            border-color: var(--primary-green);
            background: var(--light-green);
            border-style: solid;
        }

        .upload-icon {
            font-size: 48px;
            color: var(--text-light);
            margin-bottom: 16px;
        }

        .upload-text {
            font-size: 16px;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .upload-subtext {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 24px;
        }

        .upload-browse-btn {
            background: var(--primary-green);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .upload-browse-btn:hover {
            background: var(--primary-green-hover);
        }

        .file-input {
            display: none;
        }

        .upload-progress {
            margin-top: 24px;
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-green);
            border-radius: 4px;
            transition: width 0.3s;
            width: 0%;
        }

        .progress-text {
            font-size: 14px;
            color: var(--text-secondary);
            text-align: center;
        }

        .uploaded-files {
            margin-top: 24px;
        }

        .file-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--surface);
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .file-icon {
            width: 32px;
            height: 32px;
            background: var(--primary-green);
            color: white;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-size: 14px;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .file-size {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .file-status {
            font-size: 12px;
            color: var(--primary-green);
            font-weight: 500;
        }

        .email-section {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--border);
        }

        .email-input-group {
            margin-bottom: 16px;
        }

        .email-label {
            display: block;
            font-size: 14px;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .email-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        .email-input:focus {
            border-color: var(--primary-green);
        }

        .email-input-wrapper {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .email-input-wrapper .email-input {
            flex: 1;
            margin: 0;
        }

        .email-input-wrapper .editor-btn {
            flex-shrink: 0;
            white-space: nowrap;
        }

        .upload-actions {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            padding: 16px 24px;
            border-top: 1px solid var(--border);
        }

        /* Text Editor Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .text-editor-modal {
            background: var(--background);
            border-radius: 8px;
            box-shadow: var(--shadow-hover);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .editor-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 24px;
            border-bottom: 1px solid var(--border);
        }

        .editor-title {
            font-size: 18px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .editor-actions {
            display: flex;
            gap: 8px;
        }

        .editor-btn {
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .editor-btn-primary {
            background: var(--primary-green);
            color: white;
        }

        .editor-btn-primary:hover {
            background: var(--primary-green-hover);
        }

        .editor-btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .editor-btn-secondary {
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        .editor-btn-secondary:hover {
            background: var(--surface);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--text-light);
            cursor: pointer;
            padding: 4px;
        }

        .close-btn:hover {
            color: var(--text-secondary);
        }

        .editor-body {
            flex: 1;
            padding: 24px;
            display: flex;
            flex-direction: column;
        }

        .document-title {
            font-size: 18px;
            border: none;
            outline: none;
            margin-bottom: 16px;
            padding: 8px 0;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }

        .document-title:focus {
            border-bottom-color: var(--primary-green);
        }

        .document-title::placeholder {
            color: var(--text-light);
        }

        .text-editor {
            flex: 1;
            border: none;
            outline: none;
            font-size: 14px;
            line-height: 1.6;
            resize: none;
            font-family: inherit;
            min-height: 300px;
        }

        .text-editor::placeholder {
            color: var(--text-light);
        }

        .editor-footer {
            padding: 16px 24px;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .word-count {
            font-size: 12px;
            color: var(--text-light);
        }

        /* Share Modal */
        .share-modal {
            background: var(--background);
            border-radius: 8px;
            box-shadow: var(--shadow-hover);
            width: 90%;
            max-width: 480px;
        }

        .share-header {
            padding: 24px 24px 16px;
            border-bottom: 1px solid var(--border);
        }

        .share-title {
            font-size: 18px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .share-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .share-body {
            padding: 24px;
        }

        .share-input-group {
            margin-bottom: 24px;
        }

        .share-label {
            display: block;
            font-size: 14px;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .share-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        .share-input:focus {
            border-color: var(--primary-green);
        }

        .share-actions {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            padding: 16px 24px;
        }

        /* Success Message */
        .success-message {
            background: #e8f5e8;
            color: #137333;
            padding: 12px 16px;
            border-radius: 4px;
            font-size: 14px;
            margin-bottom: 16px;
            display: none;
        }

        .success-message.show {
            display: block;
        }

        /* Notification Popup */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 8px;
            box-shadow: var(--shadow-hover);
            padding: 16px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 2000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            min-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-icon {
            width: 32px;
            height: 32px;
            background: var(--primary-green);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .notification-message {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .notification-close {
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
            padding: 4px;
            flex-shrink: 0;
        }

        .notification-close:hover {
            color: var(--text-secondary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 8px 16px;
            }
            
            .search-container {
                margin: 0 16px;
                max-width: none;
                flex: 1;
            }
            
            .search-box {
                height: 40px;
                padding: 0 12px;
            }
            
            .logo-text {
                display: none;
            }
            
            .logo {
                margin-right: 16px;
            }
            
            .main-container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border);
                padding: 12px;
            }

            .sidebar-buttons {
                flex-direction: row;
                gap: 8px;
            }

            .new-btn, .upload-btn {
                flex: 1;
                justify-content: center;
            }

            .content {
                padding: 16px;
            }

            .text-editor-modal, .upload-modal {
                width: 95%;
                margin: 20px;
            }

            .welcome-section {
                padding: 40px 16px;
            }

            .welcome-actions {
                flex-direction: column;
                align-items: center;
            }

            .action-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }

            .notification {
                right: 10px;
                min-width: 280px;
                transform: translateX(300px);
            }
        }

        @media (max-width: 480px) {
            .header-actions {
                gap: 4px;
            }
            
            .header-btn {
                width: 36px;
                height: 36px;
            }
            
            .profile-btn {
                width: 28px;
                height: 28px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <i class="fas fa-cloud-upload-alt"></i>
            <span class="logo-text">InboxIQ Drive</span>
        </div>
        
        <div class="search-container">
            <div class="search-box">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Search in Drive">
            </div>
        </div>
        
        <div class="header-actions">
            <button class="header-btn">
                <i class="fas fa-question-circle"></i>
            </button>
            <button class="header-btn">
                <i class="fas fa-cog"></i>
            </button>
            <button class="header-btn">
                <i class="fas fa-th"></i>
            </button>
            <button class="header-btn profile-btn">E</button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-buttons">
                <button class="new-btn" onclick="openTextEditor()">
                    <i class="fas fa-plus"></i>
                    New
                </button>
                <button class="upload-btn" onclick="openUploadModal()">
                    <i class="fas fa-upload"></i>
                    Upload
                </button>
            </div>
            
            <ul class="sidebar-menu">
                <li class="menu-item">
                    <a href="#" class="menu-link active">
                        <i class="fas fa-home menu-icon"></i>
                        Home
                    </a>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link">
                        <i class="fas fa-hdd menu-icon"></i>
                        My Drive
                    </a>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link">
                        <i class="fas fa-briefcase menu-icon"></i>
                        Workspaces
                    </a>
                </li>
            </ul>
            
            <div class="storage-info">
                <div>Storage</div>
                <div class="storage-bar">
                    <div class="storage-used"></div>
                </div>
                <div>0.00 GB of 15 GB used</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="content">
            <div class="welcome-section">
                <div class="welcome-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <h1 class="welcome-title">Welcome to InboxIQ Drive</h1>
                <p class="welcome-subtitle">
                    Start creating and sharing your documents. Click "New" to create your first document,
                    or "Upload" to add existing files. Explore the features to see what you can do with InboxIQ Drive.
                </p>
                <div class="welcome-actions">
                    <button class="action-btn action-btn-primary" onclick="openTextEditor()">
                        <i class="fas fa-plus"></i>
                        Create New Document
                    </button>
                    <button class="action-btn action-btn-secondary" onclick="openUploadModal()">
                        <i class="fas fa-upload"></i>
                        Upload Files
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Upload Modal -->
    <div class="modal-overlay" id="uploadModal">
        <div class="upload-modal">
            <div class="upload-header">
                <div class="upload-title">Upload Files</div>
                <button class="close-btn" onclick="closeUploadModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="upload-body">
                <div class="upload-area" id="uploadArea" onclick="document.getElementById('fileInput').click()">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="upload-text">Drag and drop files here</div>
                    <div class="upload-subtext">or click to browse from your computer</div>
                    <button class="upload-browse-btn">Browse Files</button>
                </div>
                
                <input type="file" id="fileInput" class="file-input" multiple onchange="handleFileSelect(event)">
                
                <div class="upload-progress" id="uploadProgress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">Uploading...</div>
                </div>
                
                <div class="uploaded-files" id="uploadedFiles"></div>
                
                <div class="email-section" id="emailSection" style="display: none;">
                    <div class="email-input-group">
                        <label class="email-label" for="uploadEmail">Share to email</label>
                        <div class="email-input-wrapper">
                            <input type="email" class="email-input" id="uploadEmail" placeholder="Enter email address to share files">
                            <button class="editor-btn editor-btn-primary" id="shareFilesBtn" onclick="shareUploadedFiles()" style="display: none;">
                                <i class="fas fa-paper-plane"></i>
                                Share File
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="upload-actions">
                <button class="editor-btn editor-btn-secondary" onclick="closeUploadModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Text Editor Modal -->
    <div class="modal-overlay" id="editorModal">
        <div class="text-editor-modal">
            <div class="editor-header">
                <div class="editor-title">Untitled Document</div>
                <div class="editor-actions">
                    <button class="editor-btn editor-btn-primary" id="shareBtn" onclick="openShareModal()" disabled>
                        <i class="fas fa-share-alt"></i>
                        Share
                    </button>
                    <button class="close-btn" onclick="closeTextEditor()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            
            <div class="editor-body">
                <textarea class="text-editor" id="textContent" placeholder="Start typing your document..." oninput="updateContent()"></textarea>
            </div>
            
            <div class="editor-footer">
                <div class="word-count" id="wordCount">0 words</div>
                <div class="editor-actions">
                    <button class="editor-btn editor-btn-secondary" onclick="saveDocument()">
                        <i class="fas fa-save"></i>
                        Save
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="modal-overlay" id="shareModal">
        <div class="share-modal">
            <div class="share-header">
                <h2 class="share-title">Share Document</h2>
                <p class="share-subtitle">Enter email addresses to share this document</p>
            </div>
            
            <div class="share-body">
                <div class="success-message" id="successMessage">
                    <i class="fas fa-check-circle"></i>
                    Document shared successfully!
                </div>
                
                <div class="share-input-group">
                    <label class="share-label" for="shareEmail">Email address</label>
                    <input type="email" class="share-input" id="shareEmail" placeholder="Enter email address" onkeypress="handleEmailKeypress(event)">
                </div>
            </div>
            
            <div class="share-actions">
                <button class="editor-btn editor-btn-secondary" onclick="closeShareModal()">Cancel</button>
                <button class="editor-btn editor-btn-primary" onclick="shareDocument()">
                    <i class="fas fa-paper-plane"></i>
                    Send
                </button>
            </div>
        </div>
    </div>

    <!-- Notification Popup -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-check"></i>
        </div>
        <div class="notification-content">
            <div class="notification-title" id="notificationTitle">Success</div>
            <div class="notification-message" id="notificationMessage">Files shared successfully!</div>
        </div>
        <button class="notification-close" onclick="hideNotification()">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <script>
        let currentDocument = {
            title: '',
            content: '',
            shared: false
        };

        let uploadedFiles = [];

        // Text Editor Functions
        function openTextEditor() {
            document.getElementById('editorModal').classList.add('active');
            document.getElementById('textContent').focus();
        }

        function closeTextEditor() {
            document.getElementById('editorModal').classList.remove('active');
            resetEditor();
        }

        function resetEditor() {
            document.getElementById('textContent').value = '';
            document.getElementById('shareBtn').disabled = true;
            updateWordCount();
            currentDocument = { title: '', content: '', shared: false };
            document.querySelector('.editor-title').textContent = 'Untitled Document';
        }

        function updateContent() {
            const content = document.getElementById('textContent').value;
            currentDocument.content = content;
            updateWordCount();
            checkShareEnabled();
        }

        function updateWordCount() {
            const content = document.getElementById('textContent').value;
            const words = content.trim() ? content.trim().split(/\s+/).length : 0;
            document.getElementById('wordCount').textContent = `${words} word${words !== 1 ? 's' : ''}`;
        }

        function checkShareEnabled() {
            const hasContent = currentDocument.content.trim().length > 0;
            document.getElementById('shareBtn').disabled = !hasContent;
        }

        function saveDocument() {
            const saveBtn = event.target;
            const originalText = saveBtn.innerHTML;
            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
            saveBtn.disabled = true;
            
            setTimeout(() => {
                saveBtn.innerHTML = '<i class="fas fa-check"></i> Saved';
                setTimeout(() => {
                    saveBtn.innerHTML = originalText;
                    saveBtn.disabled = false;
                }, 1000);
            }, 1000);
        }

        // Upload Functions
        function openUploadModal() {
            document.getElementById('uploadModal').classList.add('active');
        }

        function closeUploadModal() {
            document.getElementById('uploadModal').classList.remove('active');
            resetUpload();
        }

        function resetUpload() {
            document.getElementById('fileInput').value = '';
            document.getElementById('uploadProgress').style.display = 'none';
            document.getElementById('uploadedFiles').innerHTML = '';
            document.getElementById('emailSection').style.display = 'none';
            document.getElementById('shareFilesBtn').style.display = 'none';
            document.getElementById('progressFill').style.width = '0%';
            document.getElementById('uploadEmail').value = '';
            uploadedFiles = [];
        }

        function handleFileSelect(event) {
            const files = Array.from(event.target.files);
            processFiles(files);
        }

        function processFiles(files) {
            if (files.length === 0) return;

            // Show progress
            document.getElementById('uploadProgress').style.display = 'block';
            
            // Simulate upload process
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 30;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    completeUpload(files);
                }
                document.getElementById('progressFill').style.width = progress + '%';
                document.getElementById('progressText').textContent = `Uploading... ${Math.round(progress)}%`;
            }, 200);
        }

        function completeUpload(files) {
            setTimeout(() => {
                document.getElementById('uploadProgress').style.display = 'none';
                displayUploadedFiles(files);
                document.getElementById('emailSection').style.display = 'block';
                document.getElementById('shareFilesBtn').style.display = 'inline-flex';
                uploadedFiles = [...uploadedFiles, ...files];
            }, 500);
        }

        function displayUploadedFiles(files) {
            const container = document.getElementById('uploadedFiles');
            
            files.forEach(file => {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                
                const fileExtension = file.name.split('.').pop().toLowerCase();
                const fileIcon = getFileIcon(fileExtension);
                
                fileItem.innerHTML = `
                    <div class="file-icon">
                        <i class="${fileIcon}"></i>
                    </div>
                    <div class="file-info">
                        <div class="file-name">${file.name}</div>
                        <div class="file-size">${formatFileSize(file.size)}</div>
                    </div>
                    <div class="file-status">Uploaded</div>
                `;
                
                container.appendChild(fileItem);
            });
        }

        function shareUploadedFiles() {
            const email = document.getElementById('uploadEmail').value.trim();
            
            if (!email) {
                showNotification('No email provided', 'Files uploaded successfully but not shared via email.', 'info');
                setTimeout(() => {
                    closeUploadModal();
                }, 2000);
                return;
            }
            
            if (!validateEmail(email)) {
                alert('Please enter a valid email address.');
                return;
            }
            
            const shareBtn = document.getElementById('shareFilesBtn');
            const originalText = shareBtn.innerHTML;
            shareBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sharing...';
            shareBtn.disabled = true;
            
            setTimeout(() => {
                const fileCount = uploadedFiles.length;
                const fileText = fileCount === 1 ? 'file' : 'files';
                showNotification('Files Shared!', `${fileCount} ${fileText} shared successfully with ${email}`);
                
                shareBtn.innerHTML = originalText;
                shareBtn.disabled = false;
                
                setTimeout(() => {
                    closeUploadModal();
                }, 2000);
                
                console.log(`Files shared with: ${email}`, uploadedFiles);
            }, 1500);
        }

        function getFileIcon(extension) {
            const iconMap = {
                'pdf': 'fas fa-file-pdf',
                'doc': 'fas fa-file-word',
                'docx': 'fas fa-file-word',
                'xls': 'fas fa-file-excel',
                'xlsx': 'fas fa-file-excel',
                'ppt': 'fas fa-file-powerpoint',
                'pptx': 'fas fa-file-powerpoint',
                'txt': 'fas fa-file-alt',
                'jpg': 'fas fa-file-image',
                'jpeg': 'fas fa-file-image',
                'png': 'fas fa-file-image',
                'gif': 'fas fa-file-image',
                'mp4': 'fas fa-file-video',
                'mp3': 'fas fa-file-audio',
                'zip': 'fas fa-file-archive',
                'rar': 'fas fa-file-archive'
            };
            return iconMap[extension] || 'fas fa-file';
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Drag and Drop
        function setupDragAndDrop() {
            const uploadArea = document.getElementById('uploadArea');
            
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            ['dragenter', 'dragover'].forEach(eventName => {
                uploadArea.addEventListener(eventName, () => {
                    uploadArea.classList.add('dragover');
                }, false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, () => {
                    uploadArea.classList.remove('dragover');
                }, false);
            });

            uploadArea.addEventListener('drop', (e) => {
                const files = Array.from(e.dataTransfer.files);
                processFiles(files);
            }, false);
        }

        // Share Functions
        function openShareModal() {
            if (!currentDocument.content.trim()) {
                alert('Please add some content before sharing.');
                return;
            }
            document.getElementById('shareModal').classList.add('active');
            document.getElementById('shareEmail').focus();
        }

        function closeShareModal() {
            document.getElementById('shareModal').classList.remove('active');
            document.getElementById('shareEmail').value = '';
            document.getElementById('successMessage').classList.remove('show');
        }

        function handleEmailKeypress(event) {
            if (event.key === 'Enter') {
                shareDocument();
            }
        }

        function shareDocument() {
            const email = document.getElementById('shareEmail').value.trim();
            
            if (!email) {
                alert('Please enter an email address.');
                return;
            }
            
            if (!validateEmail(email)) {
                alert('Please enter a valid email address.');
                return;
            }
            
            const shareBtn = event.target;
            const originalText = shareBtn.innerHTML;
            shareBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sharing...';
            shareBtn.disabled = true;
            
            setTimeout(() => {
                currentDocument.shared = true;
                showNotification('Document Shared!', `Document shared successfully with ${email}`);
                shareBtn.innerHTML = originalText;
                shareBtn.disabled = false;
                
                setTimeout(() => {
                    closeShareModal();
                }, 1000);
                
                console.log('Document shared with:', email);
            }, 1500);
        }

        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Notification Functions
        function showNotification(title, message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationTitle = document.getElementById('notificationTitle');
            const notificationMessage = document.getElementById('notificationMessage');
            const notificationIcon = notification.querySelector('.notification-icon i');
            
            notificationTitle.textContent = title;
            notificationMessage.textContent = message;
            
            // Set icon based on type
            if (type === 'info') {
                notificationIcon.className = 'fas fa-info';
            } else {
                notificationIcon.className = 'fas fa-check';
            }
            
            notification.classList.add('show');
            
            // Auto hide after 5 seconds
            setTimeout(() => {
                hideNotification();
            }, 5000);
        }

        function hideNotification() {
            document.getElementById('notification').classList.remove('show');
        }

        // Event Listeners
        document.addEventListener('click', function(event) {
            const editorModal = document.getElementById('editorModal');
            const shareModal = document.getElementById('shareModal');
            const uploadModal = document.getElementById('uploadModal');
            
            if (event.target === editorModal) {
                closeTextEditor();
            }
            
            if (event.target === shareModal) {
                closeShareModal();
            }

            if (event.target === uploadModal) {
                closeUploadModal();
            }
        });

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const editorModal = document.getElementById('editorModal');
                const shareModal = document.getElementById('shareModal');
                const uploadModal = document.getElementById('uploadModal');
                
                if (shareModal.classList.contains('active')) {
                    closeShareModal();
                } else if (uploadModal.classList.contains('active')) {
                    closeUploadModal();
                } else if (editorModal.classList.contains('active')) {
                    closeTextEditor();
                }
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateWordCount();
            setupDragAndDrop();
        });
    </script>
</body>
</html>
